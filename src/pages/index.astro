---
import { getCollection } from "astro:content";
import ArticleLayout from "../layouts/ArticleLayout.astro";
import Press from "../components/Press.astro";

const allArticles = await getCollection("article");

allArticles.sort((a, b) => {
  const dateA = new Date(a.data.date).getTime();
  const dateB = new Date(b.data.date).getTime();
  return dateB - dateA;
});

// Get the About Us article for the homepage
const selectedArticle = allArticles.find(article => article.slug === 'about') || allArticles[0];
---

<ArticleLayout 
    title="News++" 
    img="https://i.imgur.com/qFU5sBq.png"
    pageTitle="About News++"
>
    <Press article={selectedArticle} />
</ArticleLayout>
