---
import { type CollectionEntry, getCollection } from "astro:content";
import ArticleLayout from "../../layouts/ArticleLayout.astro";
import Press from "../../components/Press.astro";

// Access the props in this component
const { article } = Astro.props as { article: CollectionEntry<"article"> };

// This function gets called at build time and generates the paths from the content folder
export async function getStaticPaths() {
    // Define the colection you are creating pages for
    const allArticles = await getCollection("article");

    return allArticles.map((article) => {
        return {
            params: { slug: article.slug },
            //
            props: { article },
        };
    });
}
---

<ArticleLayout 
    title={article.data.title} 
    img={article.data.img}
    pageTitle={article.data.title}
    currentSlug={article.slug}
>
    <Press article={article} />
</ArticleLayout>

<style>
    @media (max-width: 1200px) {
        .headers-layout {
            display: none;
        }
    }
</style>
